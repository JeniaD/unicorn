<!DOCTYPE html>
<html>
<head>
  <title>Unicorn</title>
  <style>
    body { font-family: sans-serif; }
    table { width: 100%; border-collapse: collapse; }
    td, th { border: 1px solid #ccc; padding: 4px; }
  </style>
</head>
<body>
  <h1>Intercepted Requests</h1>
  <table id="logTable">
    <thead><tr><th>Time</th><th>Method</th><th>URL</th></tr></thead>
    <tbody></tbody>
  </table>
  <script>
    async function fetchLogs() {
      const res = await fetch('http://localhost:3000/logs');
      const logs = await res.json();
      const table = document.querySelector('#logTable tbody');
      table.innerHTML = '';
      logs.forEach(log => {
        const row = document.createElement('tr');
        row.innerHTML = `<td>${new Date(log.time).toLocaleTimeString()}</td><td>${log.method}</td><td>${log.url}</td>`;
        table.appendChild(row);
      });
    }
    setInterval(fetchLogs, 2000);
    fetchLogs();
  </script>
</body>
</html>

